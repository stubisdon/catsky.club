<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Catsky Club</title>
    <!-- Ghost Portal (Members + Paid subscriptions) -->
    <!-- Required env vars (Vite): VITE_GHOST_URL, VITE_GHOST_CONTENT_API_KEY -->
    <script>
      // Load Ghost Portal script dynamically to handle path issues
      (function() {
        var ghostUrl = '%VITE_GHOST_URL%';
        var apiKey = '%VITE_GHOST_CONTENT_API_KEY%';
        var script = document.createElement('script');
        script.defer = true;
        script.src = ghostUrl + '/ghost/portal/v2/portal.min.js';
        script.setAttribute('data-ghost', ghostUrl);
        script.setAttribute('data-key', apiKey);
        script.onerror = function() {
          // Fallback: try without /ghost/ prefix
          var fallback = document.createElement('script');
          fallback.defer = true;
          fallback.src = ghostUrl + '/portal/v2/portal.min.js';
          fallback.setAttribute('data-ghost', ghostUrl);
          fallback.setAttribute('data-key', apiKey);
          document.head.appendChild(fallback);
        };
        document.head.appendChild(script);
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>

